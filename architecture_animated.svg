<svg width="1600" height="1000" viewBox="0 0 1600 1000"
     xmlns="http://www.w3.org/2000/svg">

  <defs>

    <!-- 3D Shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="15" flood-color="#000"/>
    </filter>

    <!-- Glow -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Gradient Flow -->
    <linearGradient id="flow" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#00f5ff">
        <animate attributeName="offset" values="0;1" dur="3s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" stop-color="#ff00ff"/>
    </linearGradient>

    <!-- Arrow -->
    <marker id="arrow" markerWidth="12" markerHeight="8"
            refX="10" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#00f5ff"/>
    </marker>

    <!-- Styles -->
    <style>
      .module {
        fill: #0f172a;
        stroke: #00f5ff;
        stroke-width: 2;
        rx: 20;
        filter: url(#shadow);
        cursor: pointer;
      }

      .title {
        fill: #00f5ff;
        font-size: 18px;
        font-family: monospace;
        pointer-events: none;
      }

      .subtitle {
        fill: #94a3b8;
        font-size: 13px;
        font-family: monospace;
        pointer-events: none;
      }

      .arrowLine {
        stroke: url(#flow);
        stroke-width: 3;
        marker-end: url(#arrow);
        fill: none;
      }

      .packet {
        fill: #00f5ff;
        r: 6;
      }

      .p0alert {
        fill: red;
        font-size: 22px;
        font-family: monospace;
        animation: blink 1s infinite;
      }

      @keyframes blink {
        0% { opacity: 1; }
        50% { opacity: 0.2; }
        100% { opacity: 1; }
      }
    </style>

  </defs>

  <!-- Background -->
  <rect width="1600" height="1000" fill="#020617"/>

  <!-- TITLE -->
  <text x="800" y="60" text-anchor="middle"
        fill="#ffffff" font-size="32" font-family="monospace">
    TITAN_v8∞∞ MASTER INTELLIGENCE ARCHITECTURE
  </text>

  <!-- TARGET -->
  <rect x="700" y="120" width="200" height="70" class="module">
    <title>Entry point via CLI command</title>
  </rect>
  <text x="800" y="160" text-anchor="middle" class="title">
    TARGET INPUT
  </text>
  <text x="800" y="180" text-anchor="middle" class="subtitle">
    ./titan scan target.com
  </text>

  <!-- DISCOVERY -->
  <rect x="500" y="250" width="600" height="90" class="module">
    <title>Passive + Active Endpoint Discovery</title>
  </rect>
  <text x="800" y="285" text-anchor="middle" class="title">
    ORION DISCOVERY ENGINE
  </text>
  <text x="800" y="305" text-anchor="middle" class="subtitle">
    gau • katana • httpx • heuristic scanning
  </text>

  <!-- HTTP ENGINE -->
  <rect x="500" y="380" width="600" height="90" class="module">
    <title>Multi-context async HTTP engine</title>
  </rect>
  <text x="800" y="415" text-anchor="middle" class="title">
    MULTI-CONTEXT HTTP ENGINE
  </text>
  <text x="800" y="435" text-anchor="middle" class="subtitle">
    anon • user_low • user_high • async throttle
  </text>

  <!-- INTELLIGENCE STACK -->
  <rect x="300" y="520" width="1000" height="180" class="module">
    <title>Core AI logic analysis & severity engine</title>
  </rect>
  <text x="800" y="560" text-anchor="middle" class="title">
    INTELLIGENCE STACK
  </text>
  <text x="800" y="585" text-anchor="middle" class="subtitle">
    Logos • Semantics • Correlation • StateGraph
  </text>
  <text x="800" y="605" text-anchor="middle" class="subtitle">
    EvidenceChain • RiskOS (P0–P4) • Criticus
  </text>

  <!-- STORAGE -->
  <rect x="600" y="760" width="400" height="100" class="module">
    <title>Bug reports saved per target</title>
  </rect>
  <text x="800" y="800" text-anchor="middle" class="title">
    STORAGE & REPORTING
  </text>
  <text x="800" y="820" text-anchor="middle" class="subtitle">
    scans/target/bugs/*.txt
  </text>

  <!-- DEFENSE -->
  <rect x="1150" y="380" width="300" height="90" class="module">
    <title>Detects 403/429 blocking</title>
  </rect>
  <text x="1300" y="415" text-anchor="middle" class="title">
    DEFENSE MONITOR
  </text>

  <!-- MEMORY -->
  <rect x="150" y="380" width="300" height="90" class="module">
    <title>Cross-target learning memory</title>
  </rect>
  <text x="300" y="415" text-anchor="middle" class="title">
    GLOBAL MEMORY
  </text>

  <!-- ARROWS -->
  <path d="M800 190 L800 250" class="arrowLine"/>
  <path d="M800 340 L800 380" class="arrowLine"/>
  <path d="M800 470 L800 520" class="arrowLine"/>
  <path d="M800 700 L800 760" class="arrowLine"/>

  <path d="M1100 425 L1150 425" class="arrowLine"/>
  <path d="M500 425 L450 425" class="arrowLine"/>

  <!-- Animated Data Packets -->
  <circle cx="800" cy="220" r="6" fill="#00f5ff">
    <animateMotion dur="4s" repeatCount="indefinite"
      path="M800 220 L800 760"/>
  </circle>

  <!-- P0 ALERT SYSTEM -->
  <text x="1300" y="200" class="p0alert">
    ⚠ P0 CRITICAL DETECTED
  </text>

</svg>
